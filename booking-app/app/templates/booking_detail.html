<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="initial-scale=1, width=device-width" />
    <style>
      body {
        font-family: Arial, sans-serif;
        color: #333;
        line-height: 1.4;
        margin: 0;
        padding: 20px;
      }

      .section {
        margin-bottom: 30px;
        max-width: 800px;
      }

      .section-title {
        font-size: 16px;
        font-weight: bold;
        margin-bottom: 10px;
      }

      .info-table {
        width: 100%;
        border-collapse: collapse;
        border: 1px solid #ddd;
        table-layout: fixed;
      }

      .info-table tr {
        height: 100%;
      }

      .info-table td {
        padding: 8px 12px;
        border: 1px solid #ddd;
        height: inherit;
      }
      .info-table td:first-child {
        width: 150px;
        background-color: #f9f9f9;
      }

      .value-content {
        margin: 0;
      }

      .footer {
        margin-top: 20px;
        font-size: 12px;
      }

      .footer a {
        color: #0066cc;
        text-decoration: none;
      }

      .history-table {
        width: 100%;
        border-collapse: collapse;
        margin-bottom: 20px;
      }

      .history-table th,
      .history-table td {
        padding: 8px 12px;
        border: 1px solid #ddd;
        text-align: left;
      }

      .history-table th {
        background-color: #f9f9f9;
        font-weight: bold;
      }
    </style>
  </head>
  <body>
    <div class="section">
      <p>{{ contents.headerMessage }}</p>
      {{#if bookingLogs.length}}
      <div class="section-title">History</div>
      <table class="history-table">
        <thead>
          <tr>
            <th>Status</th>
            <th>User</th>
            <th>Date</th>
            <th>Note</th>
          </tr>
        </thead>
        <tbody>
          {{#each bookingLogs}}
          <tr>
            <td>{{this.status}}</td>
            <td>{{this.changedBy}}</td>
            <td>{{formatDate this.changedAt}}</td>
            <td>{{this.note}}</td>
          </tr>
          {{/each}}
        </tbody>
      </table>
      {{/if}}

      <div class="section-title">Request</div>
      <table class="info-table">
        <tr>
          <td>Request #</td>
          <td>{{ contents.requestNumber }}</td>
        </tr>
        <tr>
          <td>Room(s)</td>
          <td>{{ contents.roomId }}</td>
        </tr>
        <tr>
          <td>Date</td>
          <td>{{ contents.startDate }}</td>
        </tr>
        <tr>
          <td>Time</td>
          <td>{{ contents.startTime }} - {{ contents.endTime }}</td>
        </tr>
        <tr>
          <td>Status</td>
          <td>{{ contents.status }}</td>
        </tr>
        {{#if contents.origin}}
        <tr>
          <td>Origin</td>
          <td>{{ contents.origin }}</td>
        </tr>
        {{/if}}
      </table>

      <div class="section-title">Requester</div>
      <table class="info-table">
        <tr>
          <td>NetID</td>
          <td>{{#if contents.netId}}{{ contents.netId }}{{else}}none{{/if}}</td>
        </tr>
        <tr>
          <td>Name</td>
          <td>
            {{#if contents.firstName}}{{ contents.firstName }} {{
            contents.lastName }}{{else}}none{{/if}}
          </td>
        </tr>
        <tr>
          <td>Department</td>
          <td>
            {{#if contents.department}}{{ contents.department
            }}{{else}}none{{/if}}
          </td>
        </tr>
        <tr>
          <td>Role</td>
          <td>{{#if contents.role}}{{ contents.role }}{{else}}none{{/if}}</td>
        </tr>
        <tr>
          <td>Email</td>
          <td>{{#if contents.email}}{{ contents.email }}{{else}}none{{/if}}</td>
        </tr>
        <tr>
          <td>Phone</td>
          <td>
            {{#if contents.phoneNumber}}{{ contents.phoneNumber
            }}{{else}}none{{/if}}
          </td>
        </tr>
        <tr>
          <td>Secondary Contact Name</td>
          <td>
            {{#if contents.secondaryName}}{{ contents.secondaryName
            }}{{else}}none{{/if}}
          </td>
        </tr>
        <tr>
          <td>Sponsor Name</td>
          <td>
            {{#if contents.sponsorFirstName}}{{ contents.sponsorFirstName }} {{
            contents.sponsorLastName }}{{else}}none{{/if}}
          </td>
        </tr>
        <tr>
          <td>Sponsor Email</td>
          <td>
            {{#if contents.sponsorEmail}}{{ contents.sponsorEmail
            }}{{else}}none{{/if}}
          </td>
        </tr>
      </table>

      <div class="section-title">Details</div>
      <table class="info-table">
        <tr>
          <td>Title</td>
          <td>{{#if contents.title}}{{ contents.title }}{{else}}none{{/if}}</td>
        </tr>
        <tr>
          <td>Description</td>
          <td>
            {{#if contents.description}}{{ contents.description
            }}{{else}}none{{/if}}
          </td>
        </tr>
        <tr>
          <td>Booking Type</td>
          <td>
            {{#if contents.bookingType}}{{ contents.bookingType
            }}{{else}}none{{/if}}
          </td>
        </tr>
        <tr>
          <td>Expected Attendance</td>
          <td>
            {{#if contents.expectedAttendance}}{{ contents.expectedAttendance
            }}{{else}}none{{/if}}
          </td>
        </tr>
        <tr>
          <td>Attendee Affiliation</td>
          <td>
            {{#if contents.attendeeAffiliation}}{{ contents.attendeeAffiliation
            }}{{else}}none{{/if}}
          </td>
        </tr>
      </table>

      <div class="section-title">Services</div>
      <table class="info-table">
        <tr>
          <td>Room Setup</td>
          <td>
            {{#if contents.setupDetails}}{{ contents.setupDetails
            }}{{else}}{{#if contents.roomSetup}}{{#unless (eq contents.roomSetup
            "no")}}{{ contents.roomSetup
            }}{{else}}none{{/unless}}{{else}}none{{/if}}{{/if}} {{#if
            contents.chartFieldForRoomSetup}}
            <br />{{ contents.chartFieldForRoomSetup }} {{/if}}
          </td>
        </tr>
        <tr>
          <td>Media Service</td>
          <td>
            {{#if contents.mediaServices}}{{ contents.mediaServices
            }}{{else}}none{{/if}} {{#if contents.mediaServicesDetails}}
            <br />{{ contents.mediaServicesDetails }} {{/if}}
          </td>
        </tr>
        <tr>
          <td>Catering</td>
          <td>
            {{#if contents.cateringService}}{{ contents.cateringService
            }}{{else}}{{#if contents.catering}}{{#unless (eq contents.catering
            "no")}}{{ contents.catering
            }}{{else}}none{{/unless}}{{else}}none{{/if}}{{/if}} {{#if
            contents.chartFieldForCatering}}
            <br />{{ contents.chartFieldForCatering }} {{/if}}
          </td>
        </tr>
        <tr>
          <td>Security</td>
          <td>
            <div class="value-content">
              {{#if contents.hireSecurity}}{{#unless (eq contents.hireSecurity
              "no")}}{{ contents.hireSecurity
              }}{{else}}none{{/unless}}{{else}}none{{/if}} {{#if
              contents.chartFieldForSecurity}}<br />{{contents.chartFieldForSecurity}}{{/if}}
            </div>
          </td>
        </tr>
      </table>
    </div>

    {{#if approvalUrl}}
    <div class="footer">
      <a href="{{ approvalUrl }}" target="_blank">Open Booking Tool</a> to
      approve or decline this request.
    </div>
    {{/if}}
  </body>
</html>
